Ù…Ø­ØªÙˆÙŠØ§Øª Ø§Ù„Ù…Ù„ÙØ§Øª ÙÙŠ Ø§Ù„Ù…Ø¬Ù„Ø¯: C:\xampp\htdocs\amper_admin\resources\views\admin\discount-codes
================================================================================

ğŸ“„ add.blade.php
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
@extends('admin.layouts.app')

@section('content')
    <!-- Content Header -->
    <section class="content-header">
        <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-6">
                    <h1 class="m-0">{{ $header_title }}</h1>
                </div>
                <div class="col-sm-6">
                    <ol class="breadcrumb float-sm-right">
                        <li class="breadcrumb-item"><a href="{{ route('admin.dashboard') }}">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                        <li class="breadcrumb-item"><a href="{{ route('admin.discount-codes.list') }}">Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø®ØµÙ…</a></li>
                        <li class="breadcrumb-item active">Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ Ø®ØµÙ… Ø¬Ø¯ÙŠØ¯</li>
                    </ol>
                </div>
            </div>
        </div>
    </section>

    <!-- Main content -->
    <section class="content">
        <div class="container-fluid">
            <div class="row">
                <div class="col-12">
                    <div class="card card-primary">
                        <div class="card-header">
                            <h3 class="card-title">
                                <i class="fas fa-plus mr-2"></i>
                                Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ Ø®ØµÙ… Ø¬Ø¯ÙŠØ¯
                            </h3>
                            <div class="card-tools">
                                <a href="{{ route('admin.discount-codes.list') }}" class="btn btn-tool" title="Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©">
                                    <i class="fas fa-arrow-left"></i>
                                </a>
                            </div>
                        </div>

                        <!-- Form -->
                        <form id="addDiscountCodeForm" action="{{ route('admin.discount-codes.store') }}"
                            method="POST">
                            @csrf

                            <div class="card-body">
                                <!-- Coupon Name -->
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label for="coupon_name" class="required">
                                                <i class="fas fa-ticket-alt mr-1"></i>
                                                Ø§Ø³Ù… ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…
                                            </label>
                                            <input type="text"
                                                class="form-control @error('coupon_name') is-invalid @enderror"
                                                id="coupon_name" name="coupon_name"
                                                value="{{ old('coupon_name') }}"
                                                placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…">
                                            @error('coupon_name')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                    </div>
                                </div>

                                <!-- Count and Discount Row -->
                                <div class="row">
                                    <!-- Usage Count -->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="coupon_count" class="required">
                                                <i class="fas fa-hashtag mr-1"></i>
                                                Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
                                            </label>
                                            <input type="number"
                                                class="form-control @error('coupon_count') is-invalid @enderror"
                                                id="coupon_count" name="coupon_count"
                                                value="{{ old('coupon_count') }}"
                                                placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…" min="1">
                                            @error('coupon_count')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                    </div>
                                    <!-- Discount Percentage -->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="coupon_discount" class="required">
                                                <i class="fas fa-percent mr-1"></i>
                                                Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ…
                                            </label>
                                            <input type="number"
                                                class="form-control @error('coupon_discount') is-invalid @enderror"
                                                id="coupon_discount" name="coupon_discount"
                                                value="{{ old('coupon_discount') }}"
                                                placeholder="Ø£Ø¯Ø®Ù„ Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ…" min="0" max="100" step="0.01">
                                            @error('coupon_discount')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                    </div>
                                </div>

                                <!-- Expire Date and Status Row -->
                                <div class="row">
                                    <!-- Expire Date -->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="coupon_expiredate" class="required">
                                                <i class="fas fa-calendar-alt mr-1"></i>
                                                ØªØ§Ø±ÙŠØ® Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©
                                            </label>
                                            <input type="date"
                                                class="form-control @error('coupon_expiredate') is-invalid @enderror"
                                                id="coupon_expiredate" name="coupon_expiredate"
                                                value="{{ old('coupon_expiredate') }}">
                                            @error('coupon_expiredate')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                    </div>
                                    <!-- Status -->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="status" class="required">
                                                <i class="fas fa-toggle-on mr-1"></i>
                                                Ø­Ø§Ù„Ø© ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…
                                            </label>
                                            <select class="form-control @error('status') is-invalid @enderror"
                                                id="status" name="status">
                                                <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø­Ø§Ù„Ø©</option>
                                                <option value="1" {{ old('status') == '1' ? 'selected' : '' }}>
                                                    Ù†Ø´Ø·</option>
                                                <option value="0" {{ old('status') == '0' ? 'selected' : '' }}>
                                                    ØºÙŠØ± Ù†Ø´Ø·</option>
                                                <option value="2" {{ old('status') == '2' ? 'selected' : '' }}>
                                                    Ù…Ø­Ø°ÙˆÙ</option>
                                            </select>
                                            @error('status')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Card Footer with Action Buttons -->
                            <div class="card-footer">
                                <div class="row">
                                    <div class="col-md-6">
                                        <button type="submit" class="btn btn-primary btn-lg" id="submitBtn">
                                            <i class="fas fa-plus mr-2"></i>
                                            <span class="btn-text">Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…</span>
                                        </button>
                                    </div>
                                    <div class="col-md-6 text-right">
                                        <a href="{{ route('admin.discount-codes.list') }}"
                                            class="btn btn-outline-secondary btn-lg">
                                            <i class="fas fa-arrow-left mr-2"></i>
                                            Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
@endsection

@section('script')
    <script type="text/javascript">
        $(document).ready(function() {
            function redirectToList(message, type) {
                window.FlashHandler.redirectWithFlash(message, type, "{{ route('admin.discount-codes.list') }}");
            }

            // Clear validation styles
            $('body').on('input change', '#coupon_name, #coupon_count, #coupon_discount, #coupon_expiredate, #status', function() {
                $(this).removeClass('is-invalid');
                $(this).siblings('.invalid-feedback').remove();
            });

            // Status border color
            $('body').on('change', '#status', function() {
                $(this).removeClass('border-success border-warning border-danger');
                if (this.value === '1') $(this).addClass('border-success');
                else if (this.value === '0') $(this).addClass('border-warning');
                else if (this.value === '2') $(this).addClass('border-danger');
            });

            $('body').on('keypress', 'input:not([type="submit"])', function(e) {
                if (e.which === 13) e.preventDefault();
            });

            // Keyboard shortcuts
            $(document).on('keydown', function(e) {
                if (e.ctrlKey && e.which === 83) {
                    e.preventDefault();
                    $('#addDiscountCodeForm').submit();
                }
                if (e.which === 27) {
                    window.location.href = "{{ route('admin.discount-codes.list') }}";
                }
            });

            // Set minimum date to today
            const today = new Date().toISOString().split('T')[0];
            $('#coupon_expiredate').attr('min', today);

            // Discount formatting
            $('body').on('blur', '#coupon_discount', function() {
                let value = $(this).val();
                if (value && !isNaN(value)) {
                    $(this).val(parseFloat(value).toFixed(2));
                }
            });
        });
    </script>
@endsection

@section('scripts')
    <script type="text/javascript">
        $('body').on('submit', '#addDiscountCodeForm', function(e) {
            e.preventDefault();
            const $form = $(this);
            const $submitBtn = $('#submitBtn');
            const $btnText = $submitBtn.find('.btn-text');

            $submitBtn.prop('disabled', true);
            $btnText.html('Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø¶Ø§ÙØ©...');
            $submitBtn.find('i').removeClass('fa-plus').addClass('fa-spinner fa-spin');

            $.ajax({
                url: $form.attr('action'),
                type: 'POST',
                data: $form.serialize(),
                headers: {
                    'X-Requested-With': 'XMLHttpRequest'
                },
                success: function(response) {
                    if (response.success) {
                        redirectToList(response.message, 'success');
                    } else {
                        window.showNotification('error', response.message);
                        resetSubmitButton($submitBtn, $btnText);
                    }
                },
                error: function(xhr) {
                    let message = 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…';
                    if (xhr.status === 422 && xhr.responseJSON?.errors) {
                        displayErrors(xhr.responseJSON.errors);
                        message = 'ÙŠØ±Ø¬Ù‰ ØªØµØ­ÙŠØ­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù…Ø°ÙƒÙˆØ±Ø©';
                    } else if (xhr.responseJSON?.message) {
                        message = xhr.responseJSON.message;
                    }
                    window.showNotification('error', message);
                    resetSubmitButton($submitBtn, $btnText);
                }
            });
        });

        function resetSubmitButton($btn, $text) {
            $btn.prop('disabled', false);
            $text.html('Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…');
            $btn.find('i').removeClass('fa-spinner fa-spin').addClass('fa-plus');
        }

        function displayErrors(errors) {
            $('.is-invalid').removeClass('is-invalid');
            $('.invalid-feedback').remove();
            for (const field in errors) {
                const $field = $(`#${field}`);
                if ($field.length) {
                    $field.addClass('is-invalid');
                    $field.after(`<div class="invalid-feedback">${errors[field][0]}</div>`);
                }
            }
        }
    </script>
@endsection
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“„ edit.blade.php
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
@extends('admin.layouts.app')

@section('content')
    <!-- Content Header -->
    <section class="content-header">
        <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-6">
                    <h1 class="m-0">{{ $header_title }}</h1>
                </div>
                <div class="col-sm-6">
                    <ol class="breadcrumb float-sm-right">
                        <li class="breadcrumb-item"><a href="{{ route('admin.dashboard') }}">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                        <li class="breadcrumb-item"><a href="{{ route('admin.discount-codes.list') }}">Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø®ØµÙ…</a></li>
                        <li class="breadcrumb-item active">ØªØ¹Ø¯ÙŠÙ„ ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…</li>
                    </ol>
                </div>
            </div>
        </div>
    </section>

    <!-- Main content -->
    <section class="content">
        <div class="container-fluid">

            <!-- Coupon Information Cards -->
            <div class="row mb-4">
                <div class="col-12">
                    <div class="card card-info">
                        <div class="card-header">
                            <h3 class="card-title">
                                <i class="fas fa-info-circle mr-2"></i>
                                Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…
                            </h3>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <!-- Days Remaining -->
                                <div class="col-md-4">
                                    <div class="info-box">
                                        <span class="info-box-icon bg-info">
                                            <i class="fas fa-clock"></i>
                                        </span>
                                        <div class="info-box-content">
                                            <span class="info-box-text">Ø¨Ø§Ù‚ÙŠ Ø¹Ù„Ù‰ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ÙƒÙˆØ¯</span>
                                            <span class="info-box-number">
                                                @php
                                                    $expireDate = \Carbon\Carbon::parse($getRecord->coupon_expiredate);
                                                    $now = \Carbon\Carbon::now();
                                                    $daysRemaining = $now->diffInDays($expireDate, false);

                                                    if ($daysRemaining > 0) {
                                                        echo $daysRemaining . ' ÙŠÙˆÙ…';
                                                    } elseif ($daysRemaining == 0) {
                                                        echo 'ÙŠÙ†ØªÙ‡ÙŠ Ø§Ù„ÙŠÙˆÙ…';
                                                    } else {
                                                        echo 'Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©';
                                                    }
                                                @endphp
                                            </span>
                                            <div class="progress">
                                                @php
                                                    $totalDays = \Carbon\Carbon::parse(
                                                        $getRecord->created_at,
                                                    )->diffInDays($expireDate);
                                                    $progressPercentage =
                                                        $totalDays > 0
                                                            ? max(0, min(100, ($daysRemaining / $totalDays) * 100))
                                                            : 0;
                                                    $progressColor =
                                                        $daysRemaining > 7
                                                            ? 'bg-success'
                                                            : ($daysRemaining > 3
                                                                ? 'bg-warning'
                                                                : 'bg-danger');
                                                @endphp
                                                <div class="progress-bar {{ $progressColor }}"
                                                    style="width: {{ $progressPercentage }}%"></div>
                                            </div>
                                            <span class="progress-description">
                                                {{ $expireDate->format('Y-m-d') }}
                                            </span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Usage Count -->
                                <div class="col-md-4">
                                    <div class="info-box">
                                        <span class="info-box-icon bg-success">
                                            <i class="fas fa-users"></i>
                                        </span>
                                        <div class="info-box-content">
                                            <span class="info-box-text">ØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡</span>
                                            <span class="info-box-number">
                                                @php
                                                    // Assuming you have a used_count field or relationship
                                                    // Replace this with your actual usage count logic
                                                    $usedCount = $getRecord->used_count ?? 0; // or count from orders table
                                                    $totalCount = $getRecord->coupon_count;
                                                    $remainingCount = $totalCount - $usedCount;
                                                @endphp
                                                {{ $usedCount }} Ù…Ø±Ø©
                                            </span>
                                            <div class="progress">
                                                @php
                                                    $usagePercentage =
                                                        $totalCount > 0 ? ($usedCount / $totalCount) * 100 : 0;
                                                    $usageColor =
                                                        $usagePercentage < 50
                                                            ? 'bg-success'
                                                            : ($usagePercentage < 80
                                                                ? 'bg-warning'
                                                                : 'bg-danger');
                                                @endphp
                                                <div class="progress-bar {{ $usageColor }}"
                                                    style="width: {{ $usagePercentage }}%"></div>
                                            </div>
                                            <span class="progress-description">
                                                Ù…ØªØ¨Ù‚ÙŠ {{ $remainingCount }} Ù…Ù† {{ $totalCount }}
                                            </span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Days Since Creation -->
                                <div class="col-md-4">
                                    <div class="info-box">
                                        <span class="info-box-icon bg-warning">
                                            <i class="fas fa-calendar-plus"></i>
                                        </span>
                                        <div class="info-box-content">
                                            <span class="info-box-text">Ù…Ø± Ø¹Ù„Ù‰ Ø¥Ø·Ù„Ø§Ù‚Ù‡</span>
                                            <span class="info-box-number">
                                                @php
                                                    $createdDate = \Carbon\Carbon::parse($getRecord->created_at);
                                                    $daysSinceCreation = $createdDate->diffInDays($now);

                                                    if ($daysSinceCreation == 0) {
                                                        echo 'Ø§Ù„ÙŠÙˆÙ…';
                                                    } elseif ($daysSinceCreation == 1) {
                                                        echo 'ÙŠÙˆÙ… ÙˆØ§Ø­Ø¯';
                                                    } elseif ($daysSinceCreation == 2) {
                                                        echo 'ÙŠÙˆÙ…Ø§Ù†';
                                                    } elseif ($daysSinceCreation < 11) {
                                                        echo $daysSinceCreation . ' Ø£ÙŠØ§Ù…';
                                                    } else {
                                                        echo $daysSinceCreation . ' ÙŠÙˆÙ…';
                                                    }
                                                @endphp
                                            </span>
                                            <div class="progress">
                                                @php
                                                    $totalLifeDays = $createdDate->diffInDays($expireDate);
                                                    $lifePercentage =
                                                        $totalLifeDays > 0
                                                            ? ($daysSinceCreation / $totalLifeDays) * 100
                                                            : 0;
                                                    $lifeColor =
                                                        $lifePercentage < 30
                                                            ? 'bg-info'
                                                            : ($lifePercentage < 70
                                                                ? 'bg-primary'
                                                                : 'bg-warning');
                                                @endphp
                                                <div class="progress-bar {{ $lifeColor }}"
                                                    style="width: {{ min(100, $lifePercentage) }}%"></div>
                                            </div>
                                            <span class="progress-description">
                                                {{ $createdDate->format('Y-m-d') }}
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Additional Status Information -->
                            <div class="row mt-3">
                                <div class="col-12">
                                    <div class="alert alert-info">
                                        <h5><i class="icon fas fa-info"></i> Ù…Ù„Ø®Øµ Ø­Ø§Ù„Ø© Ø§Ù„ÙƒÙˆØ¯:</h5>
                                        <ul class="mb-0">
                                            <li>
                                                <strong>Ø§Ù„Ø­Ø§Ù„Ø©:</strong>
                                                @if ($getRecord->coupon_status == 0)
                                                    <span class="badge badge-success">Ù†Ø´Ø·</span>
                                                @elseif($getRecord->coupon_status == 1)
                                                    <span class="badge badge-warning">ØºÙŠØ± Ù†Ø´Ø·</span>
                                                @else
                                                    <span class="badge badge-danger">Ù…Ø­Ø°ÙˆÙ</span>
                                                @endif
                                            </li>
                                            <li>
                                                <strong>Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ…:</strong> {{ $getRecord->coupon_discount }}%
                                            </li>
                                            <li>
                                                <strong>Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ©:</strong>
                                                @if ($daysRemaining > 0 && $remainingCount > 0 && $getRecord->coupon_status == 0)
                                                    <span class="text-success">ÙØ¹Ø§Ù„ ÙˆÙ…ØªØ§Ø­ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</span>
                                                @elseif($daysRemaining <= 0)
                                                    <span class="text-danger">Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©</span>
                                                @elseif($remainingCount <= 0)
                                                    <span class="text-warning">ØªÙ… Ø§Ø³ØªÙ†ÙØ§Ø¯ Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</span>
                                                @elseif($getRecord->coupon_status != 1)
                                                    <span class="text-secondary">ØºÙŠØ± Ù†Ø´Ø·</span>
                                                @else
                                                    <span class="text-info">Ù…ØªØ§Ø­</span>
                                                @endif
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div class="card card-primary">
                        <div class="card-header">
                            <h3 class="card-title">
                                <i class="fas fa-edit mr-2"></i>
                                ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…
                            </h3>
                            <div class="card-tools">
                                <a href="{{ route('admin.discount-codes.list') }}" class="btn btn-tool"
                                    title="Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©">
                                    <i class="fas fa-arrow-left"></i>
                                </a>
                            </div>
                        </div>

                        <!-- Form -->
                        <form id="editDiscountCodeForm"
                            action="{{ route('admin.discount-codes.update', $getRecord->coupon_id) }}" method="POST">
                            @csrf
                            @method('PUT')

                            <div class="card-body">
                                <!-- Coupon Name -->
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label for="coupon_name" class="required">
                                                <i class="fas fa-ticket-alt mr-1"></i>
                                                Ø§Ø³Ù… ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…
                                            </label>
                                            <input type="text"
                                                class="form-control @error('coupon_name') is-invalid @enderror"
                                                id="coupon_name" name="coupon_name"
                                                value="{{ old('coupon_name', $getRecord->coupon_name) }}"
                                                placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…">
                                            @error('coupon_name')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                    </div>
                                </div>

                                <!-- Count and Discount Row -->
                                <div class="row">
                                    <!-- Usage Count -->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="coupon_count" class="required">
                                                <i class="fas fa-hashtag mr-1"></i>
                                                Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
                                            </label>
                                            <input type="number"
                                                class="form-control @error('coupon_count') is-invalid @enderror"
                                                id="coupon_count" name="coupon_count"
                                                value="{{ old('coupon_count', $getRecord->coupon_count) }}"
                                                placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…" min="1">
                                            @error('coupon_count')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                    </div>
                                    <!-- Discount Percentage -->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="coupon_discount" class="required">
                                                <i class="fas fa-percent mr-1"></i>
                                                Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ…
                                            </label>
                                            <input type="number"
                                                class="form-control @error('coupon_discount') is-invalid @enderror"
                                                id="coupon_discount" name="coupon_discount"
                                                value="{{ old('coupon_discount', $getRecord->coupon_discount) }}"
                                                placeholder="Ø£Ø¯Ø®Ù„ Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ…" min="0" max="100"
                                                step="0.01">
                                            @error('coupon_discount')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                    </div>
                                </div>

                                <!-- Expire Date and Status Row -->
                                <div class="row">
                                    <!-- Expire Date -->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="coupon_expiredate" class="required">
                                                <i class="fas fa-calendar-alt mr-1"></i>
                                                ØªØ§Ø±ÙŠØ® ÙˆÙˆÙ‚Øª Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©
                                            </label>
                                            <input type="datetime-local"
                                                class="form-control @error('coupon_expiredate') is-invalid @enderror"
                                                id="coupon_expiredate" name="coupon_expiredate"
                                                value="{{ old('coupon_expiredate', $getRecord->coupon_expiredate ? \Carbon\Carbon::parse($getRecord->coupon_expiredate)->format('Y-m-d\TH:i') : '') }}">
                                            @error('coupon_expiredate')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                    </div>
                                    <!-- Status -->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="status" class="required">
                                                <i class="fas fa-toggle-on mr-1"></i>
                                                Ø­Ø§Ù„Ø© ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…
                                            </label>
                                            <select class="form-control @error('status') is-invalid @enderror"
                                                id="status" name="status">
                                                <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø­Ø§Ù„Ø©</option>
                                                <option value="0"
                                                    {{ old('status', $getRecord->coupon_status) == '0' ? 'selected' : '' }}>
                                                    Ù†Ø´Ø·</option>
                                                <option value="1"
                                                    {{ old('status', $getRecord->coupon_status) == '1' ? 'selected' : '' }}>
                                                    ØºÙŠØ± Ù†Ø´Ø·</option>
                                                <option value="2"
                                                    {{ old('status', $getRecord->coupon_status) == '2' ? 'selected' : '' }}>
                                                    Ù…Ø­Ø°ÙˆÙ</option>
                                            </select>
                                            @error('status')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Card Footer with Action Buttons -->
                            <div class="card-footer">
                                <div class="row">
                                    <div class="col-md-6">
                                        <button type="submit" class="btn btn-primary btn-lg" id="submitBtn">
                                            <i class="fas fa-save mr-2"></i>
                                            <span class="btn-text">ØªØ­Ø¯ÙŠØ« ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…</span>
                                        </button>
                                    </div>
                                    <div class="col-md-6 text-right">
                                        <a href="{{ route('admin.discount-codes.list') }}"
                                            class="btn btn-outline-secondary btn-lg">
                                            <i class="fas fa-arrow-left mr-2"></i>
                                            Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
@endsection

@section('script')
    <script type="text/javascript">
        $(document).ready(function() {
            function redirectToList(message, type) {
                window.FlashHandler.redirectWithFlash(message, type, "{{ route('admin.discount-codes.list') }}");
            }

            // Clear validation styles
            $('body').on('input change',
                '#coupon_name, #coupon_count, #coupon_discount, #coupon_expiredate, #status',
                function() {
                    $(this).removeClass('is-invalid');
                    $(this).siblings('.invalid-feedback').remove();
                });

            $('body').on('change', '#status', function() {
                $(this).removeClass('border-success border-warning border-danger');
                if (this.value === '0') $(this).addClass('border-success');
                else if (this.value === '1') $(this).addClass('border-warning');
                else if (this.value === '2') $(this).addClass('border-danger');
            });


            // Prevent form submission on Enter key press (except submit button)
            $('body').on('keypress', 'input:not([type="submit"])', function(e) {
                if (e.which === 13) e.preventDefault();
            });

            // Keyboard shortcuts
            $(document).on('keydown', function(e) {
                // Ctrl+S to save
                if (e.ctrlKey && e.which === 83) {
                    e.preventDefault();
                    $('#editDiscountCodeForm').submit();
                }
                // Escape to go back to list
                if (e.which === 27) {
                    window.location.href = "{{ route('admin.discount-codes.list') }}";
                }
            });

            // Discount percentage validation (0-100)
            $('body').on('input', '#coupon_discount', function() {
                let value = parseFloat($(this).val());
                if (value > 100) {
                    $(this).val(100);
                } else if (value < 0) {
                    $(this).val(0);
                }
            });

            // Usage count validation (minimum 1)
            $('body').on('input', '#coupon_count', function() {
                let value = parseInt($(this).val());
                if (value < 1) {
                    $(this).val(1);
                }
            });

            // Discount formatting on blur
            $('body').on('blur', '#coupon_discount', function() {
                let value = $(this).val();
                if (value && !isNaN(value)) {
                    $(this).val(parseFloat(value).toFixed(2));
                }
            });

            // Expire date validation (cannot be in the past)
            $('body').on('change', '#coupon_expiredate', function() {
                let selectedDate = new Date($(this).val());
                let today = new Date();
                today.setHours(0, 0, 0, 0);

                if (selectedDate < today) {
                    $(this).addClass('is-invalid');
                    if (!$(this).siblings('.invalid-feedback').length) {
                        $(this).after(
                            '<div class="invalid-feedback">ØªØ§Ø±ÙŠØ® Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠÙƒÙˆÙ† ÙÙŠ Ø§Ù„Ù…Ø§Ø¶ÙŠ</div>'
                        );
                    }
                } else {
                    $(this).removeClass('is-invalid');
                    $(this).siblings('.invalid-feedback').remove();
                }
            });
        });
    </script>
@endsection

@section('scripts')
    <script type="text/javascript">
        $('body').on('submit', '#editDiscountCodeForm', function(e) {
            e.preventDefault();
            const $form = $(this);
            const $submitBtn = $('#submitBtn');
            const $btnText = $submitBtn.find('.btn-text');

            // Disable submit button and show loading state
            $submitBtn.prop('disabled', true);
            $btnText.html('Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ«...');
            $submitBtn.find('i').removeClass('fa-save').addClass('fa-spinner fa-spin');

            // Fix datetime-local format before sending
            const expireDateInput = $('#coupon_expiredate');
            if (expireDateInput.val()) {
                const originalValue = expireDateInput.val();
                // Convert from "2024-12-25T14:30" to "2024-12-25 14:30:00"
                const formattedValue = originalValue.replace('T', ' ') + ':00';
                expireDateInput.val(formattedValue);
            }

            $.ajax({
                url: $form.attr('action'),
                type: 'POST',
                data: $form.serialize(),
                headers: {
                    'X-Requested-With': 'XMLHttpRequest'
                },
                success: function(response) {
                    if (response.success) {
                        redirectToList(response.message, 'success');
                    } else {
                        window.showNotification('error', response.message);
                        resetSubmitButton($submitBtn, $btnText);
                        // Restore original datetime-local format
                        if (expireDateInput.val()) {
                            expireDateInput.val(originalValue);
                        }
                    }
                },
                error: function(xhr) {
                    let message = 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ø¯ÙŠØ« ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…';

                    if (xhr.status === 422 && xhr.responseJSON?.errors) {
                        displayErrors(xhr.responseJSON.errors);
                        message = 'ÙŠØ±Ø¬Ù‰ ØªØµØ­ÙŠØ­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù…Ø°ÙƒÙˆØ±Ø©';
                    } else if (xhr.responseJSON?.message) {
                        message = xhr.responseJSON.message;
                    }

                    window.showNotification('error', message);
                    resetSubmitButton($submitBtn, $btnText);

                    // Restore original datetime-local format on error
                    if (expireDateInput.val()) {
                        expireDateInput.val(originalValue);
                    }
                }
            });
        });

        function resetSubmitButton($btn, $text) {
            $btn.prop('disabled', false);
            $text.html('ØªØ­Ø¯ÙŠØ« ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…');
            $btn.find('i').removeClass('fa-spinner fa-spin').addClass('fa-save');
        }

        function displayErrors(errors) {
            console.log('displayErrors called with:', errors);

            // Clear previous error states
            $('.is-invalid').removeClass('is-invalid');
            $('.invalid-feedback').remove();

            // Display new errors
            for (const field in errors) {
                console.log(`Processing field: ${field}, errors:`, errors[field]);
                const $field = $(`#${field}`);
                console.log(`Field element found:`, $field.length > 0, $field);

                if ($field.length) {
                    $field.addClass('is-invalid');
                    $field.after(`<div class="invalid-feedback">${errors[field][0]}</div>`);
                    console.log(`Added error for ${field}:`, errors[field][0]);
                } else {
                    console.warn(`Field #${field} not found in DOM`);
                }
            }

            // Scroll to first error field
            const firstErrorField = $('.is-invalid').first();
            if (firstErrorField.length) {
                $('html, body').animate({
                    scrollTop: firstErrorField.offset().top - 100
                }, 500);
                firstErrorField.focus();
            }
        }
    </script>
@endsection

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“„ extruction.py
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
import os

# Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…Ø³Ø§Ø± Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø­Ø§Ù„ÙŠ Ø§Ù„Ø°ÙŠ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙƒØ±Ø¨Øª
current_dir = os.path.dirname(os.path.realpath(__file__))

def print_tree(directory, level=0, prefix=""):
   """Ø·Ø¨Ø§Ø¹Ø© Ø´Ø¬Ø±Ø© Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª ÙˆØ§Ù„Ù…Ù„ÙØ§Øª"""
   try:
       items = os.listdir(directory)
   except PermissionError:
       print(f"{prefix} [Ù…Ø¬Ù„Ø¯ ØºÙŠØ± Ù‚Ø§Ø¨Ù„ Ù„Ù„ÙˆØµÙˆÙ„]")
       return

   # ØªØµÙÙŠØ© Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø®ÙÙŠØ©
   items = [item for item in items if not item.startswith('.')]

   if not items:
       print(f"{prefix} [Ù…Ø¬Ù„Ø¯ ÙØ§Ø±Øº]")

   for i, item in enumerate(items):
       item_path = os.path.join(directory, item)
       is_last_item = i == len(items) - 1
       new_prefix = prefix + ("    " if is_last_item else "â”‚   ")

       if os.path.isdir(item_path):
           print(f"{prefix}â””â”€â”€ [{item}]")
           print_tree(item_path, level + 1, new_prefix)
       else:
           print(f"{prefix}â””â”€â”€ {item}")

def write_files_content(directory, output_file, level=0):
   """Ø§Ø³ØªØ¹Ø±Ø§Ø¶ Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆÙƒØªØ§Ø¨Ø© Ù…Ø­ØªÙˆÙŠØ§ØªÙ‡Ø§ ÙÙŠ Ù…Ù„Ù Ù†ØµÙŠ"""
   try:
       items = os.listdir(directory)
   except PermissionError:
       output_file.write(f"{'  ' * level}[Ù…Ø¬Ù„Ø¯ ØºÙŠØ± Ù‚Ø§Ø¨Ù„ Ù„Ù„ÙˆØµÙˆÙ„]: {directory}\n\n")
       return

   items = [item for item in items if not item.startswith('.')]
   
   for item in items:
       item_path = os.path.join(directory, item)
       
       if os.path.isdir(item_path):
           output_file.write(f"{'  ' * level}ğŸ“ [{item}]\n")
           write_files_content(item_path, output_file, level + 1)
       else:
           output_file.write(f"{'  ' * level}ğŸ“„ {item}\n")
           output_file.write(f"{'  ' * level}{'â”€' * 50}\n")
           
           try:
               with open(item_path, 'r', encoding='utf-8') as f:
                   content = f.read()
                   if content.strip():
                       output_file.write(content)
                   else:
                       output_file.write(f"{'  ' * level}[Ù…Ù„Ù ÙØ§Ø±Øº]")
           except UnicodeDecodeError:
               try:
                   with open(item_path, 'r', encoding='latin-1') as f:
                       content = f.read()
                       output_file.write(content)
               except:
                   output_file.write(f"{'  ' * level}[Ù…Ù„Ù Ø«Ù†Ø§Ø¦ÙŠ - Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­ØªÙˆÙ‰]")
           except Exception as e:
               output_file.write(f"{'  ' * level}[Ø®Ø·Ø£ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù„Ù: {str(e)}]")
           
           output_file.write(f"\n{'  ' * level}{'â”€' * 50}\n\n")

# Ø·Ø¨Ø§Ø¹Ø© Ø´Ø¬Ø±Ø© Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª Ø£ÙˆÙ„Ø§Ù‹
print("Ø´Ø¬Ø±Ø© Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª ÙˆØ§Ù„Ù…Ù„ÙØ§Øª:")
print("=" * 50)
print_tree(current_dir)
print("=" * 50)

# Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬
output_filename = os.path.join(current_dir, "files_content.txt")

print("\nØ¬Ø§Ø±ÙŠ Ø­ÙØ¸ Ù…Ø­ØªÙˆÙŠØ§Øª Ø§Ù„Ù…Ù„ÙØ§Øª...")

with open(output_filename, 'w', encoding='utf-8') as output:
   output.write(f"Ù…Ø­ØªÙˆÙŠØ§Øª Ø§Ù„Ù…Ù„ÙØ§Øª ÙÙŠ Ø§Ù„Ù…Ø¬Ù„Ø¯: {current_dir}\n")
   output.write("=" * 80 + "\n\n")
   write_files_content(current_dir, output)

print(f"ØªÙ… Ø­ÙØ¸ Ù…Ø­ØªÙˆÙŠØ§Øª Ø§Ù„Ù…Ù„ÙØ§Øª ÙÙŠ: {output_filename}")
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“„ files_content.txt
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Ù…Ø­ØªÙˆÙŠØ§Øª Ø§Ù„Ù…Ù„ÙØ§Øª ÙÙŠ Ø§Ù„Ù…Ø¬Ù„Ø¯: C:\xampp\htdocs\amper_admin\resources\views\admin\discount-codes
================================================================================

ğŸ“„ add.blade.php
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
@extends('admin.layouts.app')

@section('content')
    <!-- Content Header -->
    <section class="content-header">
        <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-6">
                    <h1 class="m-0">{{ $header_title }}</h1>
                </div>
                <div class="col-sm-6">
                    <ol class="breadcrumb float-sm-right">
                        <li class="breadcrumb-item"><a href="{{ route('admin.dashboard') }}">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                        <li class="breadcrumb-item"><a href="{{ route('admin.discount-codes.list') }}">Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø®ØµÙ…</a></li>
                        <li class="breadcrumb-item active">Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ Ø®ØµÙ… Ø¬Ø¯ÙŠØ¯</li>
                    </ol>
                </div>
            </div>
        </div>
    </section>

    <!-- Main content -->
    <section class="content">
        <div class="container-fluid">
            <div class="row">
                <div class="col-12">
                    <div class="card card-primary">
                        <div class="card-header">
                            <h3 class="card-title">
                                <i class="fas fa-plus mr-2"></i>
                                Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ Ø®ØµÙ… Ø¬Ø¯ÙŠØ¯
                            </h3>
                            <div class="card-tools">
                                <a href="{{ route('admin.discount-codes.list') }}" class="btn btn-tool" title="Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©">
                                    <i class="fas fa-arrow-left"></i>
                                </a>
                            </div>
                        </div>

                        <!-- Form -->
                        <form id="addDiscountCodeForm" action="{{ route('admin.discount-codes.store') }}"
                            method="POST">
                            @csrf

                            <div class="card-body">
                                <!-- Coupon Name -->
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label for="coupon_name" class="required">
                                                <i class="fas fa-ticket-alt mr-1"></i>
                                                Ø§Ø³Ù… ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…
                                            </label>
                                            <input type="text"
                                                class="form-control @error('coupon_name') is-invalid @enderror"
                                                id="coupon_name" name="coupon_name"
                                                value="{{ old('coupon_name') }}"
                                                placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…">
                                            @error('coupon_name')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                    </div>
                                </div>

                                <!-- Count and Discount Row -->
                                <div class="row">
                                    <!-- Usage Count -->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="coupon_count" class="required">
                                                <i class="fas fa-hashtag mr-1"></i>
                                                Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
                                            </label>
                                            <input type="number"
                                                class="form-control @error('coupon_count') is-invalid @enderror"
                                                id="coupon_count" name="coupon_count"
                                                value="{{ old('coupon_count') }}"
                                                placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…" min="1">
                                            @error('coupon_count')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                    </div>
                                    <!-- Discount Percentage -->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="coupon_discount" class="required">
                                                <i class="fas fa-percent mr-1"></i>
                                                Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ…
                                            </label>
                                            <input type="number"
                                                class="form-control @error('coupon_discount') is-invalid @enderror"
                                                id="coupon_discount" name="coupon_discount"
                                                value="{{ old('coupon_discount') }}"
                                                placeholder="Ø£Ø¯Ø®Ù„ Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ…" min="0" max="100" step="0.01">
                                            @error('coupon_discount')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                    </div>
                                </div>

                                <!-- Expire Date and Status Row -->
                                <div class="row">
                                    <!-- Expire Date -->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="coupon_expiredate" class="required">
                                                <i class="fas fa-calendar-alt mr-1"></i>
                                                ØªØ§Ø±ÙŠØ® Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©
                                            </label>
                                            <input type="date"
                                                class="form-control @error('coupon_expiredate') is-invalid @enderror"
                                                id="coupon_expiredate" name="coupon_expiredate"
                                                value="{{ old('coupon_expiredate') }}">
                                            @error('coupon_expiredate')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                    </div>
                                    <!-- Status -->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="status" class="required">
                                                <i class="fas fa-toggle-on mr-1"></i>
                                                Ø­Ø§Ù„Ø© ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…
                                            </label>
                                            <select class="form-control @error('status') is-invalid @enderror"
                                                id="status" name="status">
                                                <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø­Ø§Ù„Ø©</option>
                                                <option value="1" {{ old('status') == '1' ? 'selected' : '' }}>
                                                    Ù†Ø´Ø·</option>
                                                <option value="0" {{ old('status') == '0' ? 'selected' : '' }}>
                                                    ØºÙŠØ± Ù†Ø´Ø·</option>
                                                <option value="2" {{ old('status') == '2' ? 'selected' : '' }}>
                                                    Ù…Ø­Ø°ÙˆÙ</option>
                                            </select>
                                            @error('status')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Card Footer with Action Buttons -->
                            <div class="card-footer">
                                <div class="row">
                                    <div class="col-md-6">
                                        <button type="submit" class="btn btn-primary btn-lg" id="submitBtn">
                                            <i class="fas fa-plus mr-2"></i>
                                            <span class="btn-text">Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…</span>
                                        </button>
                                    </div>
                                    <div class="col-md-6 text-right">
                                        <a href="{{ route('admin.discount-codes.list') }}"
                                            class="btn btn-outline-secondary btn-lg">
                                            <i class="fas fa-arrow-left mr-2"></i>
                                            Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
@endsection

@section('script')
    <script type="text/javascript">
        $(document).ready(function() {
            function redirectToList(message, type) {
                window.FlashHandler.redirectWithFlash(message, type, "{{ route('admin.discount-codes.list') }}");
            }

            // Clear validation styles
            $('body').on('input change', '#coupon_name, #coupon_count, #coupon_discount, #coupon_expiredate, #status', function() {
                $(this).removeClass('is-invalid');
                $(this).siblings('.invalid-feedback').remove();
            });

            // Status border color
            $('body').on('change', '#status', function() {
                $(this).removeClass('border-success border-warning border-danger');
                if (this.value === '1') $(this).addClass('border-success');
                else if (this.value === '0') $(this).addClass('border-warning');
                else if (this.value === '2') $(this).addClass('border-danger');
            });

            $('body').on('keypress', 'input:not([type="submit"])', function(e) {
                if (e.which === 13) e.preventDefault();
            });

            // Keyboard shortcuts
            $(document).on('keydown', function(e) {
                if (e.ctrlKey && e.which === 83) {
                    e.preventDefault();
                    $('#addDiscountCodeForm').submit();
                }
                if (e.which === 27) {
                    window.location.href = "{{ route('admin.discount-codes.list') }}";
                }
            });

            // Set minimum date to today
            const today = new Date().toISOString().split('T')[0];
            $('#coupon_expiredate').attr('min', today);

            // Discount formatting
            $('body').on('blur', '#coupon_discount', function() {
                let value = $(this).val();
                if (value && !isNaN(value)) {
                    $(this).val(parseFloat(value).toFixed(2));
                }
            });
        });
    </script>
@endsection

@section('scripts')
    <script type="text/javascript">
        $('body').on('submit', '#addDiscountCodeForm', function(e) {
            e.preventDefault();
            const $form = $(this);
            const $submitBtn = $('#submitBtn');
            const $btnText = $submitBtn.find('.btn-text');

            $submitBtn.prop('disabled', true);
            $btnText.html('Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø¶Ø§ÙØ©...');
            $submitBtn.find('i').removeClass('fa-plus').addClass('fa-spinner fa-spin');

            $.ajax({
                url: $form.attr('action'),
                type: 'POST',
                data: $form.serialize(),
                headers: {
                    'X-Requested-With': 'XMLHttpRequest'
                },
                success: function(response) {
                    if (response.success) {
                        redirectToList(response.message, 'success');
                    } else {
                        window.showNotification('error', response.message);
                        resetSubmitButton($submitBtn, $btnText);
                    }
                },
                error: function(xhr) {
                    let message = 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…';
                    if (xhr.status === 422 && xhr.responseJSON?.errors) {
                        displayErrors(xhr.responseJSON.errors);
                        message = 'ÙŠØ±Ø¬Ù‰ ØªØµØ­ÙŠØ­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù…Ø°ÙƒÙˆØ±Ø©';
                    } else if (xhr.responseJSON?.message) {
                        message = xhr.responseJSON.message;
                    }
                    window.showNotification('error', message);
                    resetSubmitButton($submitBtn, $btnText);
                }
            });
        });

        function resetSubmitButton($btn, $text) {
            $btn.prop('disabled', false);
            $text.html('Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…');
            $btn.find('i').removeClass('fa-spinner fa-spin').addClass('fa-plus');
        }

        function displayErrors(errors) {
            $('.is-invalid').removeClass('is-invalid');
            $('.invalid-feedback').remove();
            for (const field in errors) {
                const $field = $(`#${field}`);
                if ($field.length) {
                    $field.addClass('is-invalid');
                    $field.after(`<div class="invalid-feedback">${errors[field][0]}</div>`);
                }
            }
        }
    </script>
@endsection
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“„ edit.blade.php
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
@extends('admin.layouts.app')

@section('content')
    <!-- Content Header -->
    <section class="content-header">
        <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-6">
                    <h1 class="m-0">{{ $header_title }}</h1>
                </div>
                <div class="col-sm-6">
                    <ol class="breadcrumb float-sm-right">
                        <li class="breadcrumb-item"><a href="{{ route('admin.dashboard') }}">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                        <li class="breadcrumb-item"><a href="{{ route('admin.discount-codes.list') }}">Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø®ØµÙ…</a></li>
                        <li class="breadcrumb-item active">ØªØ¹Ø¯ÙŠÙ„ ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…</li>
                    </ol>
                </div>
            </div>
        </div>
    </section>

    <!-- Main content -->
    <section class="content">
        <div class="container-fluid">

            <!-- Coupon Information Cards -->
            <div class="row mb-4">
                <div class="col-12">
                    <div class="card card-info">
                        <div class="card-header">
                            <h3 class="card-title">
                                <i class="fas fa-info-circle mr-2"></i>
                                Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…
                            </h3>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <!-- Days Remaining -->
                                <div class="col-md-4">
                                    <div class="info-box">
                                        <span class="info-box-icon bg-info">
                                            <i class="fas fa-clock"></i>
                                        </span>
                                        <div class="info-box-content">
                                            <span class="info-box-text">Ø¨Ø§Ù‚ÙŠ Ø¹Ù„Ù‰ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ÙƒÙˆØ¯</span>
                                            <span class="info-box-number">
                                                @php
                                                    $expireDate = \Carbon\Carbon::parse($getRecord->coupon_expiredate);
                                                    $now = \Carbon\Carbon::now();
                                                    $daysRemaining = $now->diffInDays($expireDate, false);

                                                    if ($daysRemaining > 0) {
                                                        echo $daysRemaining . ' ÙŠÙˆÙ…';
                                                    } elseif ($daysRemaining == 0) {
                                                        echo 'ÙŠÙ†ØªÙ‡ÙŠ Ø§Ù„ÙŠÙˆÙ…';
                                                    } else {
                                                        echo 'Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©';
                                                    }
                                                @endphp
                                            </span>
                                            <div class="progress">
                                                @php
                                                    $totalDays = \Carbon\Carbon::parse(
                                                        $getRecord->created_at,
                                                    )->diffInDays($expireDate);
                                                    $progressPercentage =
                                                        $totalDays > 0
                                                            ? max(0, min(100, ($daysRemaining / $totalDays) * 100))
                                                            : 0;
                                                    $progressColor =
                                                        $daysRemaining > 7
                                                            ? 'bg-success'
                                                            : ($daysRemaining > 3
                                                                ? 'bg-warning'
                                                                : 'bg-danger');
                                                @endphp
                                                <div class="progress-bar {{ $progressColor }}"
                                                    style="width: {{ $progressPercentage }}%"></div>
                                            </div>
                                            <span class="progress-description">
                                                {{ $expireDate->format('Y-m-d') }}
                                            </span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Usage Count -->
                                <div class="col-md-4">
                                    <div class="info-box">
                                        <span class="info-box-icon bg-success">
                                            <i class="fas fa-users"></i>
                                        </span>
                                        <div class="info-box-content">
                                            <span class="info-box-text">ØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡</span>
                                            <span class="info-box-number">
                                                @php
                                                    // Assuming you have a used_count field or relationship
                                                    // Replace this with your actual usage count logic
                                                    $usedCount = $getRecord->used_count ?? 0; // or count from orders table
                                                    $totalCount = $getRecord->coupon_count;
                                                    $remainingCount = $totalCount - $usedCount;
                                                @endphp
                                                {{ $usedCount }} Ù…Ø±Ø©
                                            </span>
                                            <div class="progress">
                                                @php
                                                    $usagePercentage =
                                                        $totalCount > 0 ? ($usedCount / $totalCount) * 100 : 0;
                                                    $usageColor =
                                                        $usagePercentage < 50
                                                            ? 'bg-success'
                                                            : ($usagePercentage < 80
                                                                ? 'bg-warning'
                                                                : 'bg-danger');
                                                @endphp
                                                <div class="progress-bar {{ $usageColor }}"
                                                    style="width: {{ $usagePercentage }}%"></div>
                                            </div>
                                            <span class="progress-description">
                                                Ù…ØªØ¨Ù‚ÙŠ {{ $remainingCount }} Ù…Ù† {{ $totalCount }}
                                            </span>
                                        </div>
                                    </div>
                                </div>

                                <!-- Days Since Creation -->
                                <div class="col-md-4">
                                    <div class="info-box">
                                        <span class="info-box-icon bg-warning">
                                            <i class="fas fa-calendar-plus"></i>
                                        </span>
                                        <div class="info-box-content">
                                            <span class="info-box-text">Ù…Ø± Ø¹Ù„Ù‰ Ø¥Ø·Ù„Ø§Ù‚Ù‡</span>
                                            <span class="info-box-number">
                                                @php
                                                    $createdDate = \Carbon\Carbon::parse($getRecord->created_at);
                                                    $daysSinceCreation = $createdDate->diffInDays($now);

                                                    if ($daysSinceCreation == 0) {
                                                        echo 'Ø§Ù„ÙŠÙˆÙ…';
                                                    } elseif ($daysSinceCreation == 1) {
                                                        echo 'ÙŠÙˆÙ… ÙˆØ§Ø­Ø¯';
                                                    } elseif ($daysSinceCreation == 2) {
                                                        echo 'ÙŠÙˆÙ…Ø§Ù†';
                                                    } elseif ($daysSinceCreation < 11) {
                                                        echo $daysSinceCreation . ' Ø£ÙŠØ§Ù…';
                                                    } else {
                                                        echo $daysSinceCreation . ' ÙŠÙˆÙ…';
                                                    }
                                                @endphp
                                            </span>
                                            <div class="progress">
                                                @php
                                                    $totalLifeDays = $createdDate->diffInDays($expireDate);
                                                    $lifePercentage =
                                                        $totalLifeDays > 0
                                                            ? ($daysSinceCreation / $totalLifeDays) * 100
                                                            : 0;
                                                    $lifeColor =
                                                        $lifePercentage < 30
                                                            ? 'bg-info'
                                                            : ($lifePercentage < 70
                                                                ? 'bg-primary'
                                                                : 'bg-warning');
                                                @endphp
                                                <div class="progress-bar {{ $lifeColor }}"
                                                    style="width: {{ min(100, $lifePercentage) }}%"></div>
                                            </div>
                                            <span class="progress-description">
                                                {{ $createdDate->format('Y-m-d') }}
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Additional Status Information -->
                            <div class="row mt-3">
                                <div class="col-12">
                                    <div class="alert alert-info">
                                        <h5><i class="icon fas fa-info"></i> Ù…Ù„Ø®Øµ Ø­Ø§Ù„Ø© Ø§Ù„ÙƒÙˆØ¯:</h5>
                                        <ul class="mb-0">
                                            <li>
                                                <strong>Ø§Ù„Ø­Ø§Ù„Ø©:</strong>
                                                @if ($getRecord->coupon_status == 0)
                                                    <span class="badge badge-success">Ù†Ø´Ø·</span>
                                                @elseif($getRecord->coupon_status == 1)
                                                    <span class="badge badge-warning">ØºÙŠØ± Ù†Ø´Ø·</span>
                                                @else
                                                    <span class="badge badge-danger">Ù…Ø­Ø°ÙˆÙ</span>
                                                @endif
                                            </li>
                                            <li>
                                                <strong>Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ…:</strong> {{ $getRecord->coupon_discount }}%
                                            </li>
                                            <li>
                                                <strong>Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ©:</strong>
                                                @if ($daysRemaining > 0 && $remainingCount > 0 && $getRecord->coupon_status == 0)
                                                    <span class="text-success">ÙØ¹Ø§Ù„ ÙˆÙ…ØªØ§Ø­ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</span>
                                                @elseif($daysRemaining <= 0)
                                                    <span class="text-danger">Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©</span>
                                                @elseif($remainingCount <= 0)
                                                    <span class="text-warning">ØªÙ… Ø§Ø³ØªÙ†ÙØ§Ø¯ Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</span>
                                                @elseif($getRecord->coupon_status != 1)
                                                    <span class="text-secondary">ØºÙŠØ± Ù†Ø´Ø·</span>
                                                @else
                                                    <span class="text-info">Ù…ØªØ§Ø­</span>
                                                @endif
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div class="card card-primary">
                        <div class="card-header">
                            <h3 class="card-title">
                                <i class="fas fa-edit mr-2"></i>
                                ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…
                            </h3>
                            <div class="card-tools">
                                <a href="{{ route('admin.discount-codes.list') }}" class="btn btn-tool"
                                    title="Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©">
                                    <i class="fas fa-arrow-left"></i>
                                </a>
                            </div>
                        </div>

                        <!-- Form -->
                        <form id="editDiscountCodeForm"
                            action="{{ route('admin.discount-codes.update', $getRecord->coupon_id) }}" method="POST">
                            @csrf
                            @method('PUT')

                            <div class="card-body">
                                <!-- Coupon Name -->
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label for="coupon_name" class="required">
                                                <i class="fas fa-ticket-alt mr-1"></i>
                                                Ø§Ø³Ù… ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…
                                            </label>
                                            <input type="text"
                                                class="form-control @error('coupon_name') is-invalid @enderror"
                                                id="coupon_name" name="coupon_name"
                                                value="{{ old('coupon_name', $getRecord->coupon_name) }}"
                                                placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…">
                                            @error('coupon_name')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                    </div>
                                </div>

                                <!-- Count and Discount Row -->
                                <div class="row">
                                    <!-- Usage Count -->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="coupon_count" class="required">
                                                <i class="fas fa-hashtag mr-1"></i>
                                                Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
                                            </label>
                                            <input type="number"
                                                class="form-control @error('coupon_count') is-invalid @enderror"
                                                id="coupon_count" name="coupon_count"
                                                value="{{ old('coupon_count', $getRecord->coupon_count) }}"
                                                placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…" min="1">
                                            @error('coupon_count')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                    </div>
                                    <!-- Discount Percentage -->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="coupon_discount" class="required">
                                                <i class="fas fa-percent mr-1"></i>
                                                Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ…
                                            </label>
                                            <input type="number"
                                                class="form-control @error('coupon_discount') is-invalid @enderror"
                                                id="coupon_discount" name="coupon_discount"
                                                value="{{ old('coupon_discount', $getRecord->coupon_discount) }}"
                                                placeholder="Ø£Ø¯Ø®Ù„ Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ…" min="0" max="100"
                                                step="0.01">
                                            @error('coupon_discount')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                    </div>
                                </div>

                                <!-- Expire Date and Status Row -->
                                <div class="row">
                                    <!-- Expire Date -->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="coupon_expiredate" class="required">
                                                <i class="fas fa-calendar-alt mr-1"></i>
                                                ØªØ§Ø±ÙŠØ® ÙˆÙˆÙ‚Øª Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©
                                            </label>
                                            <input type="datetime-local"
                                                class="form-control @error('coupon_expiredate') is-invalid @enderror"
                                                id="coupon_expiredate" name="coupon_expiredate"
                                                value="{{ old('coupon_expiredate', $getRecord->coupon_expiredate ? \Carbon\Carbon::parse($getRecord->coupon_expiredate)->format('Y-m-d\TH:i') : '') }}">
                                            @error('coupon_expiredate')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                    </div>
                                    <!-- Status -->
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            <label for="status" class="required">
                                                <i class="fas fa-toggle-on mr-1"></i>
                                                Ø­Ø§Ù„Ø© ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…
                                            </label>
                                            <select class="form-control @error('status') is-invalid @enderror"
                                                id="status" name="status">
                                                <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø­Ø§Ù„Ø©</option>
                                                <option value="0"
                                                    {{ old('status', $getRecord->coupon_status) == '0' ? 'selected' : '' }}>
                                                    Ù†Ø´Ø·</option>
                                                <option value="1"
                                                    {{ old('status', $getRecord->coupon_status) == '1' ? 'selected' : '' }}>
                                                    ØºÙŠØ± Ù†Ø´Ø·</option>
                                                <option value="2"
                                                    {{ old('status', $getRecord->coupon_status) == '2' ? 'selected' : '' }}>
                                                    Ù…Ø­Ø°ÙˆÙ</option>
                                            </select>
                                            @error('status')
                                                <div class="invalid-feedback">{{ $message }}</div>
                                            @enderror
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Card Footer with Action Buttons -->
                            <div class="card-footer">
                                <div class="row">
                                    <div class="col-md-6">
                                        <button type="submit" class="btn btn-primary btn-lg" id="submitBtn">
                                            <i class="fas fa-save mr-2"></i>
                                            <span class="btn-text">ØªØ­Ø¯ÙŠØ« ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…</span>
                                        </button>
                                    </div>
                                    <div class="col-md-6 text-right">
                                        <a href="{{ route('admin.discount-codes.list') }}"
                                            class="btn btn-outline-secondary btn-lg">
                                            <i class="fas fa-arrow-left mr-2"></i>
                                            Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
@endsection

@section('script')
    <script type="text/javascript">
        $(document).ready(function() {
            function redirectToList(message, type) {
                window.FlashHandler.redirectWithFlash(message, type, "{{ route('admin.discount-codes.list') }}");
            }

            // Clear validation styles
            $('body').on('input change',
                '#coupon_name, #coupon_count, #coupon_discount, #coupon_expiredate, #status',
                function() {
                    $(this).removeClass('is-invalid');
                    $(this).siblings('.invalid-feedback').remove();
                });

            $('body').on('change', '#status', function() {
                $(this).removeClass('border-success border-warning border-danger');
                if (this.value === '0') $(this).addClass('border-success');
                else if (this.value === '1') $(this).addClass('border-warning');
                else if (this.value === '2') $(this).addClass('border-danger');
            });


            // Prevent form submission on Enter key press (except submit button)
            $('body').on('keypress', 'input:not([type="submit"])', function(e) {
                if (e.which === 13) e.preventDefault();
            });

            // Keyboard shortcuts
            $(document).on('keydown', function(e) {
                // Ctrl+S to save
                if (e.ctrlKey && e.which === 83) {
                    e.preventDefault();
                    $('#editDiscountCodeForm').submit();
                }
                // Escape to go back to list
                if (e.which === 27) {
                    window.location.href = "{{ route('admin.discount-codes.list') }}";
                }
            });

            // Discount percentage validation (0-100)
            $('body').on('input', '#coupon_discount', function() {
                let value = parseFloat($(this).val());
                if (value > 100) {
                    $(this).val(100);
                } else if (value < 0) {
                    $(this).val(0);
                }
            });

            // Usage count validation (minimum 1)
            $('body').on('input', '#coupon_count', function() {
                let value = parseInt($(this).val());
                if (value < 1) {
                    $(this).val(1);
                }
            });

            // Discount formatting on blur
            $('body').on('blur', '#coupon_discount', function() {
                let value = $(this).val();
                if (value && !isNaN(value)) {
                    $(this).val(parseFloat(value).toFixed(2));
                }
            });

            // Expire date validation (cannot be in the past)
            $('body').on('change', '#coupon_expiredate', function() {
                let selectedDate = new Date($(this).val());
                let today = new Date();
                today.setHours(0, 0, 0, 0);

                if (selectedDate < today) {
                    $(this).addClass('is-invalid');
                    if (!$(this).siblings('.invalid-feedback').length) {
                        $(this).after(
                            '<div class="invalid-feedback">ØªØ§Ø±ÙŠØ® Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠÙƒÙˆÙ† ÙÙŠ Ø§Ù„Ù…Ø§Ø¶ÙŠ</div>'
                        );
                    }
                } else {
                    $(this).removeClass('is-invalid');
                    $(this).siblings('.invalid-feedback').remove();
                }
            });
        });
    </script>
@endsection

@section('scripts')
    <script type="text/javascript">
        $('body').on('submit', '#editDiscountCodeForm', function(e) {
            e.preventDefault();
            const $form = $(this);
            const $submitBtn = $('#submitBtn');
            const $btnText = $submitBtn.find('.btn-text');

            // Disable submit button and show loading state
            $submitBtn.prop('disabled', true);
            $btnText.html('Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ«...');
            $submitBtn.find('i').removeClass('fa-save').addClass('fa-spinner fa-spin');

            // Fix datetime-local format before sending
            const expireDateInput = $('#coupon_expiredate');
            if (expireDateInput.val()) {
                const originalValue = expireDateInput.val();
                // Convert from "2024-12-25T14:30" to "2024-12-25 14:30:00"
                const formattedValue = originalValue.replace('T', ' ') + ':00';
                expireDateInput.val(formattedValue);
            }

            $.ajax({
                url: $form.attr('action'),
                type: 'POST',
                data: $form.serialize(),
                headers: {
                    'X-Requested-With': 'XMLHttpRequest'
                },
                success: function(response) {
                    if (response.success) {
                        redirectToList(response.message, 'success');
                    } else {
                        window.showNotification('error', response.message);
                        resetSubmitButton($submitBtn, $btnText);
                        // Restore original datetime-local format
                        if (expireDateInput.val()) {
                            expireDateInput.val(originalValue);
                        }
                    }
                },
                error: function(xhr) {
                    let message = 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ø¯ÙŠØ« ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…';

                    if (xhr.status === 422 && xhr.responseJSON?.errors) {
                        displayErrors(xhr.responseJSON.errors);
                        message = 'ÙŠØ±Ø¬Ù‰ ØªØµØ­ÙŠØ­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù…Ø°ÙƒÙˆØ±Ø©';
                    } else if (xhr.responseJSON?.message) {
                        message = xhr.responseJSON.message;
                    }

                    window.showNotification('error', message);
                    resetSubmitButton($submitBtn, $btnText);

                    // Restore original datetime-local format on error
                    if (expireDateInput.val()) {
                        expireDateInput.val(originalValue);
                    }
                }
            });
        });

        function resetSubmitButton($btn, $text) {
            $btn.prop('disabled', false);
            $text.html('ØªØ­Ø¯ÙŠØ« ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…');
            $btn.find('i').removeClass('fa-spinner fa-spin').addClass('fa-save');
        }

        function displayErrors(errors) {
            console.log('displayErrors called with:', errors);

            // Clear previous error states
            $('.is-invalid').removeClass('is-invalid');
            $('.invalid-feedback').remove();

            // Display new errors
            for (const field in errors) {
                console.log(`Processing field: ${field}, errors:`, errors[field]);
                const $field = $(`#${field}`);
                console.log(`Field element found:`, $field.length > 0, $field);

                if ($field.length) {
                    $field.addClass('is-invalid');
                    $field.after(`<div class="invalid-feedback">${errors[field][0]}</div>`);
                    console.log(`Added error for ${field}:`, errors[field][0]);
                } else {
                    console.warn(`Field #${field} not found in DOM`);
                }
            }

            // Scroll to first error field
            const firstErrorField = $('.is-invalid').first();
            if (firstErrorField.length) {
                $('html, body').animate({
                    scrollTop: firstErrorField.offset().top - 100
                }, 500);
                firstErrorField.focus();
            }
        }
    </script>
@endsection

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“„ list.blade.php
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{{-- resources/views/admin/discount-codes/list.blade.php --}}


@extends('admin.layouts.app')

@section('content')
    @include('admin.partials.page-header', [
        'title' => 'Ù‚Ø§Ø¦Ù…Ø© Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø®ØµÙ…',
        'createRoute' => route('admin.discount-codes.create'),
        'createButtonText' => 'Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ Ø®ØµÙ… Ø¬Ø¯ÙŠØ¯',
    ])

    <section class="content">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    @include('admin.discount-codes.partials.search-form')
                    @include('admin.discount-codes.partials.data-table', ['records' => $getRecord])
                </div>
            </div>
        </div>
    </section>
@endsection

@section('script')
    @include('admin.discount-codes.partials.scripts')
@endsection

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ“ [partials]
  ğŸ“„ action-buttons.blade.php
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{{-- resources/views/admin/discount-codes/partials/action-buttons.blade.php --}}
@include('admin.partials.form-fields.table-action-buttons', [
    'record' => $record,
    'idField' => 'coupon_id',
    'statusField' => 'coupon_status',
    'editRoute' => route('admin.discount-codes.edit', $record->coupon_id),
])

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  ğŸ“„ data-table.blade.php
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{{-- resources/views/admin/discount-codes/partials/data-table.blade.php --}}
<div class="card card-info">
    <div class="card-header">
        <h3 class="card-title">Ù‚Ø§Ø¦Ù…Ø© Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø®ØµÙ… (Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: {{ $records->total() }})</h3>
    </div>
    <div id="table-container">
        <div class="card-body p-0">
            {{-- Desktop Table --}}
            @include('admin.discount-codes.partials.desktop-table', ['records' => $records])

            {{-- Mobile Cards --}}
            @include('admin.discount-codes.partials.mobile-cards', ['records' => $records])

            {{-- Pagination --}}
            @include('admin.partials.pagination', ['records' => $records])
        </div>
    </div>
</div>

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  ğŸ“„ desktop-table.blade.php
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{{-- resources/views/admin/discount-codes/partials/desktop-table.blade.php --}}
<div class="d-none d-lg-block">
    <div class="table-responsive">
        <table class="table table-striped table-bordered mb-0">
            <thead class="text-center bg-light">
                <tr>
                    <th>#</th>
                    <th>Ø§Ø³Ù… Ø§Ù„ÙƒÙˆØ¯</th>
                    <th>Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ…</th>
                    <th>Ø¹Ø¯Ø¯ Ù…Ø±Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</th>
                    <th>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡</th>
                    <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
                    <th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡</th>
                </tr>
            </thead>
            <tbody class="text-center">
                @forelse ($records as $record)
                    @php
                        $expiryData = app('App\Services\CouponExpiryService')->getExpiryData($record->coupon_expiredate,$record->coupon_status);
                        $discountData = app('App\Services\DiscountBadgeService')->getBadgeData($record->coupon_discount);
                    @endphp
                    <tr>
                        <td>{{ $record->coupon_id }}</td>
                        <td>
                            <span class="font-weight-bold text-primary">{{ $record->coupon_name }}</span>
                        </td>
                        <td>
                            @include('admin.discount-codes.partials.discount-badge', ['discountData' => $discountData])
                        </td>
                        <td>
                            @include('admin.discount-codes.partials.usage-count', ['count' => $record->coupon_count])
                        </td>
                        <td>
                            @include('admin.discount-codes.partials.expiry-date', ['expiryData' => $expiryData])
                        </td>
                        <td>
                            @include('admin.discount-codes.partials.status-badge', ['expiryData' => $expiryData])
                        </td>
                        <td>
                            @include('admin.discount-codes.partials.action-buttons', ['record' => $record])
                        </td>
                    </tr>
                @empty
                    @include('admin.partials.no-data', [
                        'colspan' => 7,
                        'icon' => 'fas fa-ticket-alt',
                        'message' => 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ÙƒÙˆØ§Ø¯ Ø®ØµÙ… Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠØ§Ù‹.'
                    ])
                @endforelse
            </tbody>
        </table>
    </div>
</div>
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  ğŸ“„ discount-badge.blade.php
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{{-- resources/views/admin/discount-codes/partials/discount-badge.blade.php --}}
<div class="discount-wrapper">
    <span class="badge {{ $discountData['badgeClass'] }} discount-badge">
        <div class="discount-content">
            <span class="discount-icon">{{ $discountData['icon'] }}</span>
            <span class="discount-value">{{ $discountData['discount'] }}%</span>
        </div>
    </span>
</div>









  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  ğŸ“„ expiry-date.blade.php
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{{-- resources/views/admin/discount-codes/partials/expiry-date.blade.php --}}
<div class="expiry-info">
    <div class="expiry-date">{{ $expiryData['formattedDate'] }}</div>
    @if(!$expiryData['isExpired'] && $expiryData['daysLeft'] > 0)
        <small class="text-muted">
            {{ $expiryData['daysLeft'] }}
            {{ $expiryData['daysLeft'] == 1 ? 'ÙŠÙˆÙ…' : 'Ø£ÙŠØ§Ù…' }} Ù…ØªØ¨Ù‚ÙŠØ©
        </small>
    @endif
</div>
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  ğŸ“„ mobile-card-body.blade.php
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

{{-- resources/views/admin/discount-codes/partials/mobile-card-body.blade.php --}}
<div class="row mt-2">
    <div class="col-6">
        <span class="badge {{ $discountData['badgeClass'] }} discount-badge-mobile">
            <span class="discount-icon">{{ $discountData['icon'] }}</span>
            <span class="discount-value">{{ $discountData['discount'] }}%</span>
        </span>
    </div>
    <div class="col-6 text-right">
        <span class="badge badge-info">
            <i class="fas fa-repeat mr-1"></i>{{ $count }}
        </span>
    </div>
</div>
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  ğŸ“„ mobile-card-header.blade.php
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

{{-- resources/views/admin/discount-codes/partials/mobile-card-header.blade.php --}}
<div class="row">
    <div class="col-8">
        <h6 class="card-title mb-1 text-primary font-weight-bold">{{ $record->coupon_name }}</h6>
        <p class="text-muted small mb-1">
            <i class="fas fa-hashtag"></i> {{ $record->coupon_id }}
        </p>
        <p class="text-muted small mb-0">
            <i class="fas fa-calendar"></i> {{ $expiryData['formattedDate'] }}
        </p>
    </div>
    <div class="col-4 text-right">
        <span class="badge {{ $expiryData['statusClass'] }} d-block mb-1">
            <i class="{{ $expiryData['statusIcon'] }}"></i> {{ $expiryData['statusText'] }}
        </span>
    </div>
</div>
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  ğŸ“„ mobile-cards.blade.php
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{{-- resources/views/admin/discount-codes/partials/mobile-cards.blade.php --}}
<div class="d-lg-none">
    @forelse ($records as $record)
        @php
            $expiryData = app('App\Services\CouponExpiryService')->getExpiryData(
                $record->coupon_expiredate,
                $record->coupon_status,
            );
            $discountData = app('App\Services\DiscountBadgeService')->getBadgeData($record->coupon_discount);
        @endphp
        <div class="card mb-3 mx-3">
            <div class="card-body">
                @include('admin.discount-codes.partials.mobile-card-header', [
                    'record' => $record,
                    'expiryData' => $expiryData,
                ])

                @include('admin.discount-codes.partials.mobile-card-body', [
                    'discountData' => $discountData,
                    'count' => $record->coupon_count,
                ])

                @include('admin.discount-codes.partials.action-buttons', ['record' => $record])
            </div>
        </div>
    @empty
        @include('admin.partials.no-data', [
            'icon' => 'fas fa-ticket-alt',
            'message' => 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ÙƒÙˆØ§Ø¯ Ø®ØµÙ… Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠØ§Ù‹.',
            'wrapperClass' => 'text-center py-5',
        ])
    @endforelse
</div>

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  ğŸ“„ scripts.blade.php
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{{-- resources/views/admin/discount-codes/partials/scripts.blade.php --}}


@include('admin.partials.scripts.generic-table-manager')
<script type="text/javascript">
    $(document).ready(() => {
        const discountCodeManager = new GenericTableManager({
            baseDeleteUrl: "{{ url('admin/discount-codes/delete') }}",
            baseRestoreUrl: "{{ url('admin/discount-codes/restore') }}",
            deleteButtonClass: '.btnDelete',
            tableContainerSelector: '#table-container',
            confirmMessage: 'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø­Ø°ÙØŸ',
            confirmRestoreMessage: 'Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¹Ø§Ø¯Ø©ØŸ',
            confirmTitle: 'ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©',
            loadingText: '<i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...',
            defaultButtonText: '<i class="fas fa-trash"></i>',
            successMessage: 'ØªÙ…Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­',
            errorPrefix: 'Ø­Ø¯Ø« Ø®Ø·Ø£: ',
            connectionErrorPrefix: 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…: ',
            deleteFailedMessage: 'ÙØ´Ù„ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­Ø°Ù'
        });
    });
</script>

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  ğŸ“„ search-form.blade.php
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{{-- resources/views/admin/discount-codes/partials/search-form.blade.php --}}
<form action="" method="get">
    <div class="card card-info">
        <div class="card-header">
            <h3 class="card-title">Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø®ØµÙ…</h3>
        </div>
        <div class="card-body">
            <div class="row">
                @include('admin.partials.form-fields.number-input', [
                    'name'       => 'coupon_id',
                    'label'      => 'Ø§Ù„Ù…Ø¹Ø±Ù‘Ù',
                    'placeholder'=> 'Ù…Ø¹Ø±Ù‘Ù Ø§Ù„ÙƒÙˆØ¯',
                    'colClass'   => 'col-lg-2 col-md-4 col-sm-6 col-12',
                ])

                @include('admin.partials.form-fields.text-input', [
                    'name'       => 'coupon_name',
                    'label'      => 'Ø§Ø³Ù… Ø§Ù„ÙƒÙˆØ¯',
                    'placeholder'=> 'Ø§Ø³Ù… ÙƒÙˆØ¯ Ø§Ù„Ø®ØµÙ…',
                    'colClass'   => 'col-lg-3 col-md-4 col-sm-6 col-12',
                ])

                {{-- Ø§Ù„Ø­Ø§Ù„Ø© --}}
                @include('admin.partials.form-fields.select-input', [
                    'name'     => 'status',
                    'label'    => 'Ø§Ù„Ø­Ø§Ù„Ø©',
                    'options'  => [
                        ''          => 'Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª',
                        'active'    => 'Ù†Ø´Ø·',
                        'expired'   => 'Ù…Ù†ØªÙ‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©',
                        'inactive'  => 'ØºÙŠØ± Ù†Ø´Ø·',
                        'deleted'   => 'Ù…Ø­Ø°ÙˆÙ',
                    ],
                    'colClass' => 'col-lg-2 col-md-4 col-sm-6 col-12',
                ])

                @include('admin.partials.form-fields.number-input', [
                    'name'       => 'discount_min',
                    'label'      => 'Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ… Ù…Ù†',
                    'placeholder'=> '0',
                    'min'        => 0,
                    'max'        => 100,
                    'step'       => 0.1,
                    'colClass'   => 'col-lg-2 col-md-4 col-sm-6 col-12',
                ])

                @include('admin.partials.form-fields.number-input', [
                    'name'       => 'discount_max',
                    'label'      => 'Ù†Ø³Ø¨Ø© Ø§Ù„Ø®ØµÙ… Ø¥Ù„Ù‰',
                    'placeholder'=> '100',
                    'min'        => 0,
                    'max'        => 100,
                    'step'       => 0.1,
                    'colClass'   => 'col-lg-2 col-md-4 col-sm-6 col-12',
                ])

                @include('admin.partials.form-fields.action-buttons', [
                    'searchRoute'=> null,
                    'resetRoute' => route('admin.discount-codes.list'),
                    'colClass'   => 'col-lg-1 col-md-4 col-sm-6 col-4',
                ])
            </div>
        </div>
    </div>
</form>

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  ğŸ“„ status-badge.blade.php
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{{-- resources/views/admin/discount-codes/partials/status-badge.blade.php --}}
<span class="badge {{ $expiryData['statusClass'] }} px-3 py-2">
    <i class="{{ $expiryData['statusIcon'] }} mr-1"></i>{{ $expiryData['statusText'] }}
</span>

  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  ğŸ“„ usage-count.blade.php
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
{{-- resources/views/admin/discount-codes/partials/usage-count.blade.php --}}
<span class="badge badge-info px-3 py-2">
    <i class="fas fa-repeat mr-1"></i>{{ $count }}
</span>
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

